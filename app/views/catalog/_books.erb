<ul id="books" data-controller="drag-and-drop" >
  <% @books.each { |book| %>
    <li class="book" data-id="<%=  book.id  %>" draggable="true" data-drag-and-drop-target="book" data-action="dragstart->drag-and-drop#dragStart dragend->drag-and-drop#dragEnd
     drop->drag-and-drop#drop dragenter->drag-and-drop#dragEnter dragleave->drag-and-drop#dragLeave dragover->drag-and-drop#dragOver">
      <dl>
        <dt><%= link_to book.title, action: "show", id: book %></dt>
        <dt><%= book.title %></dt>

        <% book.authors.each { |author| %>
          <dd><%= author.last_name %>, <%= author.first_name %></dd>
        <% } %>

        <dd><%= pluralize(book.page_count, "page") %></dd>
        <dd>Price: <%= number_to_currency(book.price) %></dd>
        <dd><small>Publisher: <%=  book.publisher.name %></small></dd>

        <dd>
          <strong>
            <!-- We can also set data: { turbo: "false" } if we don't want our request to be Ajax -->
            <%= button_to 'Add to cart', add_path(id: book.id), method: :post, remote: true, form: {data: {turbo_confirm: 'Are you sure?'}} %>
            <%= button_to 'Remove book', add_path(id: book.id), method: :delete, remote: true, form: {data: {turbo_confirm: 'Are you sure?'}} %>
          </strong>
        </dd>
      </dl>
    </li>
  <% } %>
</ul>
