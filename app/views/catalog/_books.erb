<ul id="books" data-controller="add-with-ajax" >
  <% @books.each { |book| %>
    <li class="book" data-id="<%=  book.id  %>">
      <dl>
        <dt><%= link_to book.title, action: "show", id: book %></dt>
        <dt><%= book.title %></dt>

        <% book.authors.each { |author| %>
          <dd><%= author.last_name %>, <%= author.first_name %></dd>
        <% } %>

        <dd><%= pluralize(book.page_count, "page") %></dd>
        <dd>Price: <%= number_to_currency(book.price) %></dd>
        <dd><small>Publisher: <%=  book.publisher.name %></small></dd>

        <dd>
          <strong>
            <%#= add_book_link("+", book) %>
            <div data-add-with-ajax-url-param="<%= add_path %>">
              <button data-action="click->add-with-ajax#load">Add Book</button >
            </div>
          </strong>
        </dd>
      </dl>
    </li>
  <% } %>
</ul>
